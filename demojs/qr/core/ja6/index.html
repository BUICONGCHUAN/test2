<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="" />
  <!-- boostrap -->
  <link rel="stylesheet" href="/_newAssets/bootstrap-4.0.0/dist/css/bootstrap.min.css" />

  <!-- fontawesome -->
  <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
  <title>コア国語６年</title>
  <link rel="icon" type="image/x-icon" href="/_newAssets/icon/favicon.png" />

  <link rel="stylesheet" href="/_newAssets/css/core/index-res.css" />
  <link rel="stylesheet" href="/_newAssets/css/core/index.css" />

  <script src="/_newAssets/js/jquery-3.3.1.slim.min.js"></script>
  <script src="/_newAssets/js/popper.min.js"></script>
  <script src="/_newAssets/js/jquery.min.js"></script>
  <script src="/_newAssets/bootstrap-4.0.0/dist/js/bootstrap.min.js"></script>
  <script src="/_newAssets/js/lodash.min.js"></script>
</head>

<body class="bg-orange">
	<div class="header">
		<div class="color-top font_bold">
			<h1>コア国語６年 学習サポート
			</h1>
		</div>
		<div class="title-logo font_bold">
			<p class="title">
				<span>＼</span>
				ボタンを押して音声を聞こう
				<span>／</span>
			</p>
			<div class="image_popup">
				<p>音読</p>
			</div>
			<img class="logo" src="../../../_newAssets/image/core/icon-ja.png" alt="" />
		</div>
		<div class="colum-folder font_bold list-book">
			<div class="colum colum-2 col-2-collum">
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>1</span>
							</div>
							<div class="title-orange">
								<span>物語文①</span>
							</div>
							<div class="title-descrp">
								<span>場面・人物をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>12</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>2</span>
							</div>
							<div class="title-orange">
								<span>説明文①</span>
							</div>
							<div class="title-descrp">
								<span>指示語・接続語をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>18</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>3</span>
							</div>
							<div class="title-orange">
								<span>随筆文①</span>
							</div>
							<div class="title-descrp">
								<span>筆者の心情をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>24</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>4</span>
							</div>
							<div class="title-orange">
								<span>説明文③</span>
							</div>
							<div class="title-descrp">
								<span>段落の要点・段落関係をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>30</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>5</span>
							</div>
							<div class="title-orange">
								<span>物語文③</span>
							</div>
							<div class="title-descrp">
								<span>心情の変化をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>36</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>6</span>
							</div>
							<div class="title-orange">
								<span>論説文①</span>
							</div>
							<div class="title-descrp">
								<span>事実と意見の関係をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>42</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>7</span>
							</div>
							<div class="title-orange">
								<span>随筆文①</span>
							</div>
							<div class="title-descrp">
								<span>筆者の心情をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>48</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>8</span>
							</div>
							<div class="title-orange">
								<span>論説文②</span>
							</div>
							<div class="title-descrp">
								<span>文章の構成をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>54</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>9</span>
							</div>
							<div class="title-orange">
								<span>物語文④</span>
							</div>
							<div class="title-descrp">
								<span>表現をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>60</span>
							</div>
						</div>
					</div>
				</a>
			</div>
			<div class="colum colum-2 col-2-collum">
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>10</span>
							</div>
							<div class="title-orange">
								<span>詩・短歌・俳句</span>
							</div>
							<div class="title-descrp">
								<span>表現技法・感動の中心をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>66</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>11</span>
							</div>
							<div class="title-orange">
								<span>随筆文②</span>
							</div>
							<div class="title-descrp">
								<span>筆者の考えをとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>72</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>12</span>
							</div>
							<div class="title-orange">
								<span>論説文③</span>
							</div>
							<div class="title-descrp">
								<span>必要な情報をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>78</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>13</span>
							</div>
							<div class="title-orange">
								<span>伝記</span>
							</div>
							<div class="title-descrp">
								<span>人物の生き方をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>84</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>14</span>
							</div>
							<div class="title-orange">
								<span>説明文③</span>
							</div>
							<div class="title-descrp">
								<span>説明文の要旨をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>90</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>15</span>
							</div>
							<div class="title-orange">
								<span>物語文⑤</span>
							</div>
							<div class="title-descrp">
								<span>物語文の主題をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>96</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>16</span>
							</div>
							<div class="title-orange">
								<span>論説文④</span>
							</div>
							<div class="title-descrp">
								<span>筆者の意見をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>102</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>17</span>
							</div>
							<div class="title-orange">
								<span>随筆文③</span>
							</div>
							<div class="title-descrp">
								<span>ずいひつ文の主題をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>108</span>
							</div>
						</div>
					</div>
				</a>
				<a href="/" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt stt-orange">
								<span>18</span>
							</div>
							<div class="title-orange">
								<span>論説文⑤</span>
							</div>
							<div class="title-descrp">
								<span>論説文の要旨をとらえる</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>114</span>
							</div>
						</div>
					</div>
				</a>
			</div>
			<!-- <div class="colum col-2-collum">
         
        </div> -->
		</div>
	</div>
</body>

<script>
  let arr = [];
  let fnResize = () => {
    var isMobile =
      /Android|webOS|iPhone|iPad|MacIntel|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
      window.navigator.userAgent.indexOf("Mobile") !== -1;
    let fn = () => {
      let windowWidth = isMobile ? window.outerWidth : window.innerWidth;
      $("html").css("overflow-y", "overlay");

      let zoomValue = windowWidth >= 1200 ? 1 : windowWidth / 1200;

      if (windowWidth <= 670) zoomValue = 1;

      let isNeedZoom = zoomValue != 1;

      window.zoomValue = zoomValue;

      if (!$("#zoom-container").length) {
        let bodyChildren = $("body").children();

        let relativeDiv = $(document.createElement("div")).attr("id", "relative-container").css("position", "").append(bodyChildren);
        let zoomDiv = $(document.createElement("div")).attr("id", "zoom-container").append(relativeDiv);
        $("body").append(zoomDiv);
      }

      if (isMobile)
        document.querySelector("meta[name=viewport]").setAttribute("content", `width=${isNeedZoom ? 1200 : windowWidth}, user-scalable=1`);
      else {
        document.querySelector("meta[name=viewport]").setAttribute("content", `width=device-width, user-scalable=1`);

        if (zoomValue != 1) {
          $("#zoom-container").css({
            transform: "scale(" + zoomValue + ")",
            "-ms-transform": "scale(" + zoomValue + ")",
            "-moz-transform": "scale(" + zoomValue + ")",
            "-webkit-transform": "scale(" + zoomValue + ")",
            "transform-origin": "0 0",
            "-ms-transform-origin": "0 0",
            "-moz-transform-origin": "0 0",
            "-webkit-transform-origin": "0 0",
            position: "absolute",
            top: "0",
            left: "0",
            width: !isMobile ? "1200px" : 1200 / zoomValue + "px",
            height: 100 / zoomValue + "%",
          });
        } else {
          $("#zoom-container").css({
            transform: "",
            "-ms-transform": "",
            "-moz-transform": "",
            "-webkit-transform": "",
            "transform-origin": "",
            "-ms-transform-origin": "",
            "-moz-transform-origin": "",
            "-webkit-transform-origin": "",
            position: "",
            // position: "absolute",
            top: "0",
            left: "0",
            width: "100%",
            height: "100%",
          });
          // $("#relative-container").css("position", "");
        }
      }

      if (!window.styleMaps) window.styleMaps = {};

      const { styleMaps } = window;

      if (!isMobile) {
        Object.keys(document.styleSheets)
          .map((x) => ({ key: x, info: document.styleSheets[x] }))
          .filter((x) => !x.info.href || x.info.href.indexOf("_newAssets") > -1)
          .forEach((s) => {
            $(document.styleSheets[s.key].cssRules)
              .toArray()
              .forEach((x, idx) => {
                let isPassFilter =
                  x.media &&
                  (x.cssText.indexOf("(min-width: ") > -1 ||
                    x.cssText.indexOf("(max-width: ") > -1 ||
                    x.parentStyleSheet.href.indexOf("header.css") > -1 ||
                    x.parentStyleSheet.href.indexOf("footer.css") > -1);

                if (!isPassFilter) return;
                if (!styleMaps[s.key]) {
                  styleMaps[s.key] = {
                    href: x.parentStyleSheet.href,
                  };
                }
                if (!styleMaps[s.key][idx]) {
                  styleMaps[s.key][idx] = {};
                }
                if (!styleMaps[s.key][idx].origin) {
                  styleMaps[s.key][idx].origin = {
                    media_text: x.media.mediaText,
                  };
                  if (x.media.mediaText.indexOf("max-width") > -1 && x.media.mediaText.indexOf("min-width") > -1) {
                    styleMaps[s.key][idx].origin.type = "max-min-width";
                  } else if (x.media.mediaText.indexOf("max-width") > -1) {
                    styleMaps[s.key][idx].origin.type = "maxwidth";
                  } else {
                    styleMaps[s.key][idx].origin.type = "minwidth";
                  }

                  // styleMaps[s.key][idx].origin.value = Number(x.media.mediaText.split("px")[0].split("width:")[1].trim());
                }

                const originInfo = styleMaps[s.key][idx].origin;

                if (originInfo.type == "max-min-width") {
                  x.media.mediaText = "(max-width: 1px)";
                } else if (originInfo.type == "maxwidth") {
                  x.media.mediaText = "(max-width: 671px)";
                } else if (originInfo.type == "minwidth") {
                  x.media.mediaText = "(min-width: 671px)";
                }

                if (windowWidth <= 670) {
                  x.media.mediaText = originInfo.media_text;
                }

                styleMaps[s.key][idx].current = x.media.mediaText;
              });
          });
      }
    };

    fn();
    let count = 0;
    let itv = setInterval(() => {
      count += 1;
      if (count > 5) {
        clearInterval(itv);
        return;
      }
      fn();
    }, 20);
  };

  const fnSetSameTitleHeight = () => {
    let bookItems = _(
      $.map($(".list-book").children().children(), (x, i) => {
 
        $(x).find(".title-top").css("height", "auto");

        return {
          el: x,
          rect: $(x)[0].getBoundingClientRect(),
          titleHeight: $(x).find(".title-top").outerHeight(),
          idx: i
        };
      })
    )
      .groupBy((x) => x.rect.y)
      .toArray()
      .value();

    bookItems.forEach((grp) => {




      grp.map((x) => {
        if(x.titleHeight >= x.titleHeight )
        arr.push(x.titleHeight) 
      })

      let max_val = arr.reduce(function(accumulator, element){
          return (accumulator > element) ? accumulator : element
    });

      let maxTitleHeight = max_val;

      console.log(max_val)
      grp.forEach((x) => {
        if (x.titleHeight != maxTitleHeight) {
 
          $(".title-top").outerHeight(maxTitleHeight);
        }
      });
    });
  };

  $(document).ready(function () {
    let widthScreen = $(window).width();

    fnResize();

    $(window).resize(() => {
      fnResize();
    });

    // fnSetSameTitleHeight();
    // $(window).resize(fnSetSameTitleHeight);
    // $(".list-book").on("DOMSubtreeModified", function () {
    //   fnSetSameTitleHeight();
    // });
  });
</script>

</html>