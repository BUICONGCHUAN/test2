<!DOCTYPE html>
<html lang="ja">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>コア社会６年</title>
	<meta name="description" content="" />

	<!-- Google Tag Manager -->
	<script>(function (w, d, s, l, i) {
			w[l] = w[l] || []; w[l].push({
				'gtm.start':
					new Date().getTime(), event: 'gtm.js'
			}); var f = d.getElementsByTagName(s)[0],
				j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
					'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
		})(window, document, 'script', 'dataLayer', 'GTM-P6PJ7MP');</script>
	<!-- End Google Tag Manager -->
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-RGMTWX93BM"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-RGMTWX93BM', { 'debug_mode': true });
	</script>
	<!-- End Google tag (gtag.js) -->

	<!-- boostrap -->
	<link rel="stylesheet" href="/_newAssets/bootstrap-4.0.0/dist/css/bootstrap.min.css" />

	<!-- fontawesome -->
	<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
		integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
	<link rel="icon" type="image/x-icon" href="/_newAssets/icon/favicon.png" />

	<link rel="stylesheet" href="../../../_newAssets/css/core/index-res.css" />
	<link rel="stylesheet" href="../../../_newAssets/css/core/index.css" />

	<script src="/_newAssets/js/jquery-3.3.1.slim.min.js"></script>
	<script src="/_newAssets/js/popper.min.js"></script>
	<script src="/_newAssets/js/jquery.min.js"></script>
	<script src="/_newAssets/bootstrap-4.0.0/dist/js/bootstrap.min.js"></script>
	<script src="/_newAssets/js/lodash.min.js"></script>
</head>

<body class="bg-green">
	<div class="header">
		<div class="color-top font_bold title-green">
			<h1>コア社会６年 学習サポート
			</h1>
		</div>
		<div class="title-logo font_bold text-green">
			<p class="title">
				<span>＼</span>
				ボタンを押して動画を見よう
				<span>／</span>
			</p>
			<div class="image_popup">
				<p class="text-green">動画</p>
			</div>
			<img class="logo" src="/qr/core/image/icon-so.png" alt="" />
		</div>
		<div class="colum-folder font_bold list-book">
			<div class="colum colum-2 col-2-collum">
				<a href="/qr/core/so6/u1/ufavrx.html" target="_blank">
					<div class="button-width-auto title-top">
						<div class="box-left d-flex">
							<div class="stt title-green">
								<span>1</span>
							</div>
							<div class="title-descrp">
								<span>日本国憲法とわたしたちのくらし</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>4</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>2</span>
							</div>
							<div class="title-descrp">
								<span>わたしたちと政治</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>10</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>3</span>
							</div>
							<div class="title-descrp">
								<span>人類のあけぼの</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>18</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>4</span>
							</div>
							<div class="title-descrp">
								<span>大昔のくらし</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>22</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>5</span>
							</div>
							<div class="title-descrp">
								<span>日本の成り立ち</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>28</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>6</span>
							</div>
							<div class="title-descrp">
								<span>天皇中心の国づくり</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>34</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>7</span>
							</div>
							<div class="title-descrp">
								<span>貴族の世の中</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>40</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>8</span>
							</div>
							<div class="title-descrp">
								<span>武士の世の中①　鎌倉幕府</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>48</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>9</span>
							</div>
							<div class="title-descrp">
								<span>武士の世の中②　室町幕府</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>54</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>10</span>
							</div>
							<div class="title-descrp">
								<span>戦国の世の中</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>60</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>11</span>
							</div>
							<div class="title-descrp">
								<span>全国統一と江戸幕府の成立</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>68</span>
							</div>
						</div>
					</div>
				</a>
			</div>

			<div class="colum colum-2 col-2-collum">
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>12</span>
							</div>
							<div class="title-descrp">
								<span>江戸幕府のしくみとそれぞれのくらし</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>74</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>13</span>
							</div>
							<div class="title-descrp">
								<span>貿易と鎖国，産業の発達</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>80</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>14</span>
							</div>
							<div class="title-descrp">
								<span>三大革命，文化と学問</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>86</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>15</span>
							</div>
							<div class="title-descrp">
								<span>日本の開国と江戸幕府の滅亡</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>92</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>16</span>
							</div>
							<div class="title-descrp">
								<span>明治維新と文明開化</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>100</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>17</span>
							</div>
							<div class="title-descrp">
								<span>自由民権運動と議会の開設</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>106</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>18</span>
							</div>
							<div class="title-descrp">
								<span>条約改正と日清・日露戦争</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>112</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>19</span>
							</div>
							<div class="title-descrp">
								<span>産業の発達とくらしの変化</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>118</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>20</span>
							</div>
							<div class="title-descrp">
								<span>２つの世界大戦</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>126</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>21</span>
							</div>
							<div class="title-descrp">
								<span>新しい日本とこれから</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>132</span>
							</div>
						</div>
					</div>
				</a>
				<!-- <a href="" target="_blank"> -->
					<div class="button-width-auto title-top btn-gray">
						<div class="box-left d-flex">
							<div class="stt title-green stt-gray">
								<span>22</span>
							</div>
							<div class="title-descrp">
								<span>国際社会と日本</span>
							</div>
						</div>
						<div class="box-right d-flex">
							<div class="content">
								<span>138</span>
							</div>
						</div>
					</div>
				</a>

			</div>
		</div>
	</div>
</body>

<script>
	let arr = [];
	let fnResize = () => {
		var isMobile =
			/Android|webOS|iPhone|iPad|MacIntel|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
			window.navigator.userAgent.indexOf("Mobile") !== -1;
		let fn = () => {
			let windowWidth = isMobile ? window.outerWidth : window.innerWidth;
			$("html").css("overflow-y", "overlay");

			let zoomValue = windowWidth >= 1200 ? 1 : windowWidth / 1200;

			if (windowWidth <= 670) zoomValue = 1;

			let isNeedZoom = zoomValue != 1;

			window.zoomValue = zoomValue;

			if (!$("#zoom-container").length) {
				let bodyChildren = $("body").children();

				let relativeDiv = $(document.createElement("div")).attr("id", "relative-container").css("position", "").append(bodyChildren);
				let zoomDiv = $(document.createElement("div")).attr("id", "zoom-container").append(relativeDiv);
				$("body").append(zoomDiv);
			}

			if (isMobile)
				document.querySelector("meta[name=viewport]").setAttribute("content", `width=${isNeedZoom ? 1200 : windowWidth}, user-scalable=1`);
			else {
				document.querySelector("meta[name=viewport]").setAttribute("content", `width=device-width, user-scalable=1`);

				if (zoomValue != 1) {
					$("#zoom-container").css({
						transform: "scale(" + zoomValue + ")",
						"-ms-transform": "scale(" + zoomValue + ")",
						"-moz-transform": "scale(" + zoomValue + ")",
						"-webkit-transform": "scale(" + zoomValue + ")",
						"transform-origin": "0 0",
						"-ms-transform-origin": "0 0",
						"-moz-transform-origin": "0 0",
						"-webkit-transform-origin": "0 0",
						position: "absolute",
						top: "0",
						left: "0",
						width: !isMobile ? "1200px" : 1200 / zoomValue + "px",
						height: 100 / zoomValue + "%",
					});
				} else {
					$("#zoom-container").css({
						transform: "",
						"-ms-transform": "",
						"-moz-transform": "",
						"-webkit-transform": "",
						"transform-origin": "",
						"-ms-transform-origin": "",
						"-moz-transform-origin": "",
						"-webkit-transform-origin": "",
						position: "",
						// position: "absolute",
						top: "0",
						left: "0",
						width: "100%",
						height: "100%",
					});
					// $("#relative-container").css("position", "");
				}
			}

			if (!window.styleMaps) window.styleMaps = {};

			const { styleMaps } = window;

			if (!isMobile) {
				Object.keys(document.styleSheets)
					.map((x) => ({ key: x, info: document.styleSheets[x] }))
					.filter((x) => !x.info.href || x.info.href.indexOf("_newAssets") > -1)
					.forEach((s) => {
						$(document.styleSheets[s.key].cssRules)
							.toArray()
							.forEach((x, idx) => {
								let isPassFilter =
									x.media &&
									(x.cssText.indexOf("(min-width: ") > -1 ||
										x.cssText.indexOf("(max-width: ") > -1 ||
										x.parentStyleSheet.href.indexOf("header.css") > -1 ||
										x.parentStyleSheet.href.indexOf("footer.css") > -1);

								if (!isPassFilter) return;
								if (!styleMaps[s.key]) {
									styleMaps[s.key] = {
										href: x.parentStyleSheet.href,
									};
								}
								if (!styleMaps[s.key][idx]) {
									styleMaps[s.key][idx] = {};
								}
								if (!styleMaps[s.key][idx].origin) {
									styleMaps[s.key][idx].origin = {
										media_text: x.media.mediaText,
									};
									if (x.media.mediaText.indexOf("max-width") > -1 && x.media.mediaText.indexOf("min-width") > -1) {
										styleMaps[s.key][idx].origin.type = "max-min-width";
									} else if (x.media.mediaText.indexOf("max-width") > -1) {
										styleMaps[s.key][idx].origin.type = "maxwidth";
									} else {
										styleMaps[s.key][idx].origin.type = "minwidth";
									}

									// styleMaps[s.key][idx].origin.value = Number(x.media.mediaText.split("px")[0].split("width:")[1].trim());
								}

								const originInfo = styleMaps[s.key][idx].origin;

								if (originInfo.type == "max-min-width") {
									x.media.mediaText = "(max-width: 1px)";
								} else if (originInfo.type == "maxwidth") {
									x.media.mediaText = "(max-width: 671px)";
								} else if (originInfo.type == "minwidth") {
									x.media.mediaText = "(min-width: 671px)";
								}

								if (windowWidth <= 670) {
									x.media.mediaText = originInfo.media_text;
								}

								styleMaps[s.key][idx].current = x.media.mediaText;
							});
					});
			}
		};

		fn();
		let count = 0;
		let itv = setInterval(() => {
			count += 1;
			if (count > 5) {
				clearInterval(itv);
				return;
			}
			fn();
		}, 20);
	};

	const fnSetSameTitleHeight = () => {
		let bookItems = _(
			$.map($(".list-book").children().children(), (x, i) => {

				$(x).find(".title-top").css("height", "auto");

				return {
					el: x,
					rect: $(x)[0].getBoundingClientRect(),
					titleHeight: $(x).find(".title-top").outerHeight(),
					idx: i
				};
			})
		)
			.groupBy((x) => x.rect.y)
			.toArray()
			.value();

		bookItems.forEach((grp) => {




			grp.map((x) => {
				if (x.titleHeight >= x.titleHeight)
					arr.push(x.titleHeight)
			})

			let max_val = arr.reduce(function (accumulator, element) {
				return (accumulator > element) ? accumulator : element
			});

			let maxTitleHeight = max_val;

			console.log(max_val)
			grp.forEach((x) => {
				if (x.titleHeight != maxTitleHeight) {

					$(".title-top").outerHeight(maxTitleHeight);
				}
			});
		});
	};

	$(document).ready(function () {
		let widthScreen = $(window).width();

		fnResize();

		$(window).resize(() => {
			fnResize();
		});

		// fnSetSameTitleHeight();
		// $(window).resize(fnSetSameTitleHeight);
		// $(".list-book").on("DOMSubtreeModified", function () {
		//   fnSetSameTitleHeight();
		// });
	});
</script>

</html>